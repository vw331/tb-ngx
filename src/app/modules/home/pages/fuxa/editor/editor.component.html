<div *ngIf="isLoading" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:rgba(0,0,0,0.2); z-index: 99999;">
  <!-- <mat-spinner mode="indeterminate" color="rgba(48,89,175,1)" diameter="50" 
          style="position: absolute;left: 50%;top: 50%;transform: translate(-50%, -50%);">
  </mat-spinner> -->
  <mat-progress-bar mode="indeterminate" color="warn" style="position: absolute; top: 0px; left: 0px; right: 0px; z-index: 99999;">
  </mat-progress-bar>
</div>
<div id="svg_editor_container">
  <mat-drawer-container class="svg-workarea-container">
    <mat-drawer mode="side" opened="true" class="svg-sidenav leave-header-area">
      <mat-accordion multi="true">
        <mat-expansion-panel class="svg-workarea-leftbar-p" 
          (opened)="panelsState.panelView=true;savePanelState()" 
          (closed)="panelsState.panelView=false;savePanelState()" 
          hideToggle="true" 
          [expanded]="panelsState.panelView"
        >

        </mat-expansion-panel>
      </mat-accordion>
    </mat-drawer>
    <mat-drawer-content>
      <div class="svg-tools-fly">
        <mat-expansion-panel class="svg-workarea-fly-p" 
          (opened)="panelPropertyIdOpenState = true" 
          (closed)="panelPropertyIdOpenState = false" hideToggle="true" expanded="true" style="display:none">
          <mat-expansion-panel-header class="svg-workarea-flybar-h">
              <mat-panel-title>
                  <mat-icon aria-label="Select" *ngIf="panelPropertyIdOpenState">expand_less</mat-icon>
                  <mat-icon aria-label="Select" *ngIf="!panelPropertyIdOpenState">expand_more</mat-icon>
                  <span>{{'editor.interactivity' | translate}}</span> <!-- INTERACTIVITY -->
              </mat-panel-title>
          </mat-expansion-panel-header>
          <div id="_selected_panel">
              <div class="_toolset">
                  <label id="idLabel" title="{{'editor.interactivity-id-title' | translate}}" class="svg-property">
                      <span>{{'editor.interactivity-id' | translate}}</span>
                      <input id="elem_id" #selid class="attr_changer" data-attr="id" type="text" />
                  </label>
                  <label id="classLabel" title="{{'editor.interactivity-class-title' | translate}}" class="svg-property">
                      <span>{{'editor.interactivity-class' | translate}}</span>
                      <input id="elem_class" class="attr_changer" data-attr="class" type="text" />
                  </label>
              </div>
          </div>
        </mat-expansion-panel>
      </div>
      <div id="svg_editor" style="z-index:-1">
        <div id="rulers">
          <div id="ruler_corner"></div>
          <div id="ruler_x">
              <div>
                  <canvas height="15"></canvas>
              </div>
          </div>
          <div id="ruler_y">
              <div>
                  <canvas width="15"></canvas>
              </div>
          </div>
        </div>
        <div id="workarea">
          <style id="styleoverrides" type="text/css" media="screen" scoped="scoped"></style>
          <div id="svgcanvas" style="position:relative">
          </div>
        </div>
        <div id="tools_top" class="tools_panel">
          <div id="editor_panel">
            <div class="main-btn-sep"></div>
            <button mat-button title="{{'editor.tools-launch-title' | translate}}" class="main-btn" (click)="onStartCurrent()">
                <mat-icon aria-label="Launch Current View">play_arrow</mat-icon>
            </button>
            <div class="main-btn-sep"></div>
            <button mat-button title="{{'editor.tools-zoom-title' | translate}}" class="main-btn" (click)="onZoomSelect()">
                <mat-icon aria-label="Zoom Tool [Ctrl+Up/Down]">zoom_in</mat-icon>
            </button>
            <button mat-button title="{{'editor.tools-grid-title' | translate}}" class="main-btn" (click)="onShowGrid()">
                <mat-icon aria-label="Show Hide Grid" *ngIf="!gridOn">grid_on</mat-icon>
                <mat-icon aria-label="Show Hide Grid" *ngIf="gridOn">grid_off</mat-icon>
            </button>
            <div id="history_panel">
                <button mat-button id="tool_undo" title="{{'editor.tools-undo-title' | translate}}" class="main-btn">
                    <mat-icon aria-label="Undo [Z]">undo</mat-icon>
                </button>
                <button mat-button id="tool_redo" title="{{'editor.tools-redo-title' | translate}}" class="main-btn">
                    <mat-icon aria-label="Redo [Y]">redo</mat-icon>
                </button>
            </div>
          </div>
          <div id="selected_panel">
            <div class="main-btn-sep"></div>
            <button mat-button id="tool_clone" title="{{'editor.tools-clone-title' | translate}}" class="main-btn">
                <mat-icon aria-label="Duplicate Element [D]">content_copy</mat-icon>
            </button>
            <button mat-button id="tool_delete" title="{{'editor.tools-delete-title' | translate}}" class="main-btn">
                <mat-icon aria-label="Delete Element [Delete/Backspace]">content_cut</mat-icon>
            </button>
            <button mat-button id="tool_move_bottom" title="{{'editor.tools-movebottom-title' | translate}}" class="main-btn">
                <span class="to-bottom"></span>
            </button>
            <button mat-button id="tool_move_top" title="{{'editor.tools-movetop-title' | translate}}" class="main-btn">
                <span class="to-top"></span>
            </button>
            <button mat-button id="tool_topath" title="{{'editor.tools-topath-title' | translate}}" class="main-btn">
                <mat-icon>linear_scale</mat-icon>
            </button>
            <button mat-button id="tool_make_link" title="{{'editor.tools-hyperlink-title' | translate}}" class="main-btn" (click)="onMakeHyperlink()">
                <mat-icon>link</mat-icon>
            </button>
        </div>
        </div>

        <!-- tools_top -->
        <div id="cur_context_panel">

        </div>

        <!-- tool bottom -->
        <div class="bottom-bar tools_panel">
        </div>

        <div id="option_lists" class="dropdown">

        </div>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>
